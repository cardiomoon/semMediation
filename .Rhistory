count=1
for(i in 1:length(covar$name)){
for(j in 1:length(covar$site[[i]])){
number=c(number,arrows$no[1])
name=c(name,paste0("h",count))
start=c(start,covar$name[i])
end=c(end,covar$site[[i]][j])
labelpos=c(labelpos,0.5)
arrpos=c(arrpos,0.84)
count=count+1
}
}
number
name
start
end
labelpos
arrpos
df=data.frame(no=number,name=name,start=start,end=end,labelpos=labelpos,arrpos=arrpos)
cat("\narrows")
print(arrows)
cat("\ndf")
print(df)
cat("\narrows")
arrows=rbind(arrows,df)
print(arrows)
}
arrows
}
#'Adjust y position of nodes
#'@param nodes A data.frame
adjustNodes=function(nodes){
miny=min(nodes$ypos)
if(miny<0.05){
if(miny>=0) {
nodes$ypos=nodes$ypos+0.05
} else{
nodes$ypos=nodes$ypos+0.05-miny
}
}
if(max(nodes$ypos)>0.95) {
nodes$ypos=nodes$ypos*0.95/max(nodes$ypos)
}
nodes
}
arrows1
result=addArrows(arrows1,covar)
result
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
library(semMediation)
#'Add covariates to arrows
#'@param arrows A data.frame
#'@param covar A list of covariates
addArrows=function(arrows,covar){
if(length(covar$name)>0){
number<-name<-start<-end<-labelpos<-arrpos<-c()
count=1
for(i in 1:length(covar$name)){
for(j in 1:length(covar$site[[i]])){
number=c(number,arrows$no[1])
name=c(name,paste0("h",count))
start=c(start,covar$name[i])
end=c(end,covar$site[[i]][j])
labelpos=c(labelpos,0.5)
arrpos=c(arrpos,0.84)
count=count+1
}
}
number
name
start
end
labelpos
arrpos
df=data.frame(no=number,name=name,start=start,end=end,labelpos=labelpos,arrpos=arrpos)
cat("\narrows")
print(arrows)
cat("\ndf")
print(df)
cat("\narrows")
arrows=rbind(arrows,df)
print(arrows)
}
arrows
}
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
arrows1=arrows[arrows$no==1,]
arrows1
result=addArrows(arrows1,covar)
result
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
library(semMediation)
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
arrows1=arrows[arrows$no==1,]
arrows1
result=addArrows(arrows1,covar)
#'Add covariates to arrows
#'@param arrows A data.frame
#'@param covar A list of covariates
addArrows=function(arrows,covar){
if(length(covar$name)>0){
number<-name<-start<-end<-labelpos<-arrpos<-c()
count=1
for(i in 1:length(covar$name)){
for(j in 1:length(covar$site[[i]])){
number=c(number,arrows$no[1])
name=c(name,paste0("h",count))
start=c(start,covar$name[i])
end=c(end,covar$site[[i]][j])
labelpos=c(labelpos,0.5)
arrpos=c(arrpos,0.84)
count=count+1
}
}
number
name
start
end
labelpos
arrpos
df=data.frame(no=number,name=name,start=start,end=end,labelpos=labelpos,arrpos=arrpos)
arrows=rbind(arrows,df)
}
arrows
}
arrows1
result=addArrows(arrows1,covar)
result
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
library(semMediation)
library(semMediation)
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
arrows1=arrows[arrows$no==1,]
arrows1
result=addArrows(arrows1,covar)
#'Add covariates to arrows
#'@param arrows A data.frame
#'@param covar A list of covariates
addArrows=function(arrows,covar){
if(length(covar$name)>0){
number<-name<-start<-end<-labelpos<-arrpos<-c()
count=1
for(i in 1:length(covar$name)){
for(j in 1:length(covar$site[[i]])){
number=c(number,arrows$no[1])
name=c(name,paste0("h",count))
start=c(start,covar$name[i])
end=c(end,covar$site[[i]][j])
labelpos=c(labelpos,0.5)
arrpos=c(arrpos,0.84)
count=count+1
}
}
number
name
start
end
labelpos
arrpos
df=data.frame(no=number,name=name,start=start,end=end,labelpos=labelpos,arrpos=arrpos)
arrows=rbind(arrows,df)
}
arrows
}
result=addArrows(arrows1,covar)
result
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
library(semMediation)
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
arrows1=arrows[arrows$no==1,]
arrows1
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
library(semMediation)
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="est")
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="std")
library(semMediation)
statisticalDiagram(no=1)
# glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
# glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=1,covar=covar)
library(semMediation)
# glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
# glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
# labels$Y="govact"
# require(diagram)
# require(tidyverse)
# no=1
# arrows1=arrows[arrows$no==1,]
# arrows1
# result=addArrows(arrows1,covar)
# result
# statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="std")
# statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1)
statisticalDiagram(no=1,covar=covar)
library(semMediation)
library(semMediation)
statisticalDiagram(no=1)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=1,covar=covar)
library(semMediation)
statisticalDiagram(no=1)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=1,covar=covar)
statisticalDiagram(no=1,covar=covar)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=1,covar=covar)
statisticalDiagram(no=4,covar=covar)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=4,covar=covar)
statisticalDiagram(no=2,covar=covar)
library(semMediation)
statisticalDiagram(no=1)
library(semMediation)
statisticalDiagram(no=1)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=2,covar=covar)
statisticalDiagram(no=1,covar=covar)
glbwarm=read.csv("./inst/pmacro/data/glbwarm.csv",stringsAsFactors=FALSE)
glbwarm
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
equation=modmedEquation(X="negemot",M=NULL,Y="govact",
moderator=list(name="age",site=list("c")),
covar=covar)
cat(equation)
require(lavaan)
fit=sem(model=equation,data=glbwarm)
table1=estimatesTable(fit)
table1
estimateTable=table1
labels=list()
labels$X="negemot"
labels$M="age"
labels$Y="govact"
require(diagram)
require(tidyverse)
no=1
statisticalDiagram(no=1,labels=labels,estimateTable=table1)
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="std")
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="name")
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="est")
library(semMediation)
# labels$X="negemot"
# labels$M="age"
# labels$Y="govact"
# require(diagram)
# require(tidyverse)
# no=1
# arrows1=arrows[arrows$no==1,]
# arrows1
# result=addArrows(arrows1,covar)
# result
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="est")
# labels$X="negemot"
# labels$M="age"
# labels$Y="govact"
# require(diagram)
# require(tidyverse)
# no=1
# arrows1=arrows[arrows$no==1,]
# arrows1
# result=addArrows(arrows1,covar)
# result
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="std")
# labels$X="negemot"
# labels$M="age"
# labels$Y="govact"
# require(diagram)
# require(tidyverse)
# no=1
# arrows1=arrows[arrows$no==1,]
# arrows1
# result=addArrows(arrows1,covar)
# result
statisticalDiagram(no=1,labels=labels,estimateTable=table1,covar=covar,whatLabel="name")
library(semMediation)
runApp('inst/pmacro')
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=4,covar=covar)
library(semMediation)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=4,covar=covar)
library(semMediation)
covar=list(name=c("posemot","ideology","sex"),site=list("Y","Y","Y"))
statisticalDiagram(no=4,covar=covar)
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M",Y"),c("M",Y"))
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M","Y"),c("M",Y"))
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M","Y"),c("M",Y")))
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M","Y"),c("M",Y")))
covar
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M","Y"),c("M",Y")))
covar=list(name=c("posemot","ideology","sex"),site=list(c("M","Y"),c("M","Y"),c("M","Y")))
statisticalDiagram(no=4,covar=covar)
statisticalDiagram(no=4,covar=covar)
covar=list(name=c("posemot","ideology","sex"),site=list(c("Mi","Y"),c("Mi","Y"),c("Mi","Y")))
statisticalDiagram(no=4,covar=covar)
statisticalDiagram(no=2,covar=covar)
statisticalDiagram(no=1,covar=covar)
statisticalDiagram(no=1)
covar=list(name=c("posemot","ideology","sex"),site=list(c("Y"),c("Y"),c("Y")))
statisticalDiagram(no=1,covar=covar)
covar=list(name=c("posemot","ideology","sex"),site=list(c("Mi","Y"),c("Mi","Y"),c("Mi","Y")))
statisticalDiagram(no=4,covar=covar)
devtools::document()
devtools::document()
devtools::check()
devtools::document()
devtools::check()
??pmacro
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
label3
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
x=1:5
seq_along(x)
seq_len(x)
x=NULL
seq_along(x)
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
x="Y"
strsplit(x,",")
unlist(strsplit(x,","))
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
x="Y"
strsplit(x,",")
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/removeUI/removeUI.R')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
library(semMediation)
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
shiny::runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
runApp('inst/pmacro')
